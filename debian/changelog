loki (7.1.0-1) unstable; urgency=medium

  [ Sean Darcy ]
  * modifies the print function so terminal bright mirrors the emphasis parameter

  [ Jason Rhinelander ]
  * Update required SN component versions
  * Add option to allow explicitly disabling systemd
  * Various contrib/depends fixes
  * Eliminate superfluous new top block info logs (#1079)
  * Bump version to 7.1.0 for final release (#1082)

  [ Doyle ]
  * Fix warnings on Mac, evaluation order and uninit var (#1080)

  [ Jason Rhinelander ]
  * Add status & startup timer delay during blockchain scanning (#1084)

  [ Doyle ]
  * LNS: Fix register_height uint16_t truncation (#1085)

 -- Jason Rhinelander <jason@imaginary.ca>  Tue, 17 Mar 2020 01:49:13 -0300

loki (7.0.0-3) unstable; urgency=medium

  [ Doyle ]
  * LNS: Store wallet addresses to DB
  * LNS: Update documentation to say wallet addresses are valid for owners

  [ Jason Rhinelander ]
  * Rediff patches
  * Fix patch: don't install lokimq anymore

  [ Doyle ]
  * LNS: s/owner/address, we now store wallet addresses or ed keys
  * LNS: Print out owners using the to_string() instead of operator bool()
  * LNS: Serialize owner if not specified, use subaddress keys if possible
  * LNS: Use hex_to_pod on crypto primitive instead of generic_signature

  [ Jason Rhinelander ]
  * Loki zmq.hpp indirectly through lokimq.h
  * libwallet needs to link to openssl
  * Add sqlite3-dev dep to -dev package
  * Rediff patches

 -- Jason Rhinelander <jason@imaginary.ca>  Sun, 15 Mar 2020 22:12:26 -0300

loki (7.0.0-2) unstable; urgency=medium

  [ Sean Darcy ]
  * Calculate total burnt loki
  * Add burn amount to rpc get_coinbase_tx_sum

  [ Jason Rhinelander ]
  * Rediff patches
  * Rediff patches
  * Fix missing dep
  * Add missing checkpoints dep to cryptonote_core (#1074)
  * Rediff patches

  [ Sean Darcy ]
  * serialize the response

  [ Jason Rhinelander ]
  * Update qnet-ping to support direct port pings
  * Fix C-ism causing warning
  * Eliminate warnings from unknown warning flags on apple clang
  * Set OPENSSL_LIBRARIES hack for bundled libunbound
  * Allow linking to a system-installed lokimq
  * Various linking and build fixes
  * Add loki-mq dep

 -- Jason Rhinelander <jason@imaginary.ca>  Sun, 15 Mar 2020 16:20:59 -0300

loki (7.0.0-1) unstable; urgency=medium

  [ Sean Darcy ]
  * modifies the print function so terminal bright mirrors the emphasis parameter

  [ Doyle ]
  * Fix testing in quorum check, find_index_in_quorum_group(..) >= 0 (#1029)

  [ Sean ]
  * Creates a default address for the sweep_all command in the cli wallet (#1031)

  [ Jason Rhinelander ]
  * Fix unit tests under updated gtest (#1035)

  [ Doyle ]
  * Distinguish staking transactions and revamp construct_tx
  * Add sqlite 3.30.1
  * Add support for Loki Name Service on the backend
  * Implement expiration/renewal of lokinet entries
  * Add logging macros, add IF NOT EXIST qualifier to unique index
  * Start move away from hooks, combine rescanning of lns and snl to one function
  * Update tests for rebasing on blink changes
  * Add support for Loki Name Service on the backend
  * Remove edkeys from account, wallet does something funky
  * Don't check lns heights unless both begin/end requested
  * Remove block indirection in chain gen, support null lns_db for tests
  * Validate wallet addresses given in LNS txs
  * Formatting: loki_name_system_db -> loki_name_system, cold_sign_tx arg const
  * Add buy lns rpc wallet, and wallet cli commands
  * Add lokinet domain name validation
  * Verify LNS burn amounts and fix up tests to use burns
  * Check duplicate LNS entries via the name not the value
  * Initialise DB from the immutable checkpoint height
  * Fix rebase onto dev (blink) error
  * Remove extra LNS add_block call, incoporated into load_missing_blocks
  * Handle duplicate LNS txs that are not checkpointed yet
  * Update core tests for handling dupes
  * LNS rpc get_lns_[owner|name]_mapping, stub get_mappings_by_user
  * Implement rpc, get_mappings_by_user
  * Add test for get_mappings_by_user
  * Remove owner signature from loki name service tx extra
  * Rebase fix, blink_lns -> blink, v15 and reserve types for protocol
  * Remove unused function rescan_starting_from_curr..
  * Add query LNS mappings to the CLI wallet
  * Improve error messaging for LNS txes
  * Force all incoming LNS txs to represent values as hex in the name->value mapping
  * Remove and undo some changes for github diffs
  * Update LNS burn to 15 loki, add tests to check burns
  * Update unit tests using non-hex pubkeys
  * Fix travis CI complaint about mapping_type not declared
  * Send LNS values as blobs to the blockchain
  * Fix requirement to 30, and actually do the atomic step
  * Remove subsystems selection because we don't use it anymore
  * Update txtype activation hardforks
  * Be consistent with identifier quoting in SQLite
  * Turn plain enums into enum-struct in loki name system
  * Robustify sql transactions, formalise LNS values maximums
  * Remove vendored SQLite, rely on system installed lib
  * Ensure lns_value has sufficient size buffer, remove unused prototype
  * Add txid/prev_txid into LNS db for rollbacks
  * Support pop_blocks for LNS DB.
  * Scope the DB transaction around the settings table update as well
  * Avoid serializing the prev_txid in LNS extra if not needed
  * Expose the wallet public ed25519 key in on_get_address and address cmd
  * Add sqlite3 support for depends and dockerfile
  * Cleanup pass 2 for github
  * Add a constructor for tx_extra_loki_name_system and use it
  * txid and prev_txid should be returning as a string in RPC
  * Code review
  * Add register_height to the serialized members for LNS owners to name RPC
  * Make get_mappings execute in a single query, s/user/owner
  * LNS: query owners by keys in a single sql query
  * Fix subtle bugs that crept in
  * Resolve enabled mapping types via hf aware function instead of via enum

  [ Jason Rhinelander ]
  * SQLITE_PREPARE_PERSISTENT requires sqlite >= 3.20.0

  [ Doyle ]
  * sqlite3_prepare_v3 prototype doesn't exist in some sql distributions
  * Undo line deletes and make a copy of change_dts in transfer_selected_rct

  [ Jason Rhinelander ]
  * Fix `priority=5` not doing an actual blink submission (#1041)
  * Simplify static_asserts
  * Move hard-coded Monero donation address
  * Remove wallet mixin code
  * Remove confirm-missing-payment-id option
  * Reformatted messy/broken multiline strings
  * Lower blink fees, remove higher priorities and backlog checking
  * Remove ring_size parameter from API
  * Throw exception if using blink priority on non-blinkable tx type
  * Remove ancient MSVC workaround; use perfect forwarding
  * Allow get_staking_requirement to return current height (#1038)

  [ Doyle ]
  * Introduce LNS update transaction to update the underlying value mapping
  * Prevent LNS TX updates, updating to the same value
  * Add various LNS tests for updating record variants
  * Generate a proper hash for signatures to prevent LNS update replays
  * Prevent blink in update_lns_mapping in CLI wallet when confirm_and_send-ing
  * Use tx/extra print helpers in loki_name_system.cpp
  * Use enum_field for type to use lns::mapping_type

  [ Jason Rhinelander ]
  * Fix invalid_priority exception
  * Remove mixin handling from wallet_api; fix create_transactions_2 call

  [ Doyle ]
  * Make LNS records print out a friendly name for the type
  * Add RPC calls for updating lns tx
  * Use operator<< for structs, adjust LNS wording, move command_t to lns::
  * Use libsodium to hash the contents for signatures
  * Rewrite the integration tests to use pipes (#1045)
  * LNS: Allow multi-year registration for lokinet entries
  * Move simple string view out to common/string_view.h (#1049)

  [ Sean ]
  * Add get_service_node_status rpc endpoint (#1050)

  [ Doyle ]
  * Revert debug testnet hardfork changes from LNS
  * blink=<bool> is not part of transfer API, set rpc long poll threads to 0 in daemon
  * Propagate error message to CLI wallet (#1047)
  * LNS: Test all lokinet year expirations, take string by val in lowercase_string
  * Move out economic related constants/functions to loki_economy

  [ Jason Rhinelander ]
  * cmake modernization
  * Convert quorumnet to loki-mq
  * Fix NO_AES definition

  [ Doyle ]
  * Mask the name by hashing using sodium's blake2b
  * Remove generic LNS support, it is still early days
  * Encrypt mapping values via libsodium, using the name as secret
  * Add documentation for LNS prototypes
  * Fix core tests and print out binary vals in hex
  * Unit test LNS mapping value encryption/decryption
  * Store base64 hashes into the LNS DB
  * Update hex usage to lokimq::hex
  * Ability to vendor libsodium 1.0.18 -D DOWNLOAD_SODIUM=[ON|OFF|FORCE]
  * Download libsodium 1.0.18 on travis if not available

  [ Jason Rhinelander ]
  * Fix local sodium detection

  [ Doyle ]
  * Remove hardcoded checkpoint on testnet (#1059)
  * Move Sodium detection above external submodules (#1060)

  [ Jason Rhinelander ]
  * Updated loki-mq for disconnect fixes
  * Change block reward for HF15 & 16 as per LRC-6
  * Update test suite & add test for LRC-6 rewards

  [ Doyle ]
  * Update documentation for LNS commands
  * Add generic_[key|signature] to handle monero/ed25519 keys
  * Make LNS take generic keys/sigs where it can for owner keys
  * Verify owner/backup owner when validating LNS txs
  * Make generic crypto be comparable
  * Update SQL commands to handle backup owner keys
  * DRY combining mapping and owner table together
  * Bake SQL arguments into get_mappings sql
  * Use helper function to verify LNS records in tests
  * Check LNS record is loaded
  * Update tests not using verify_lns_mapping_record
  * Revise LNS documenation to reflect actual implementation
  * Prefix LNS commands with lns, instead of <verb> lns <action>
  * Add standalone LNS signature generator for CLI/RPC wallet
  * Actually add make update signature to simplewallet interface
  * Use prepare_tx_extra .. helper to gen signature
  * SQL injection fix, index optimize, general code warts
  * Make LNS take generic keys/sigs where it can for owner keys
  * Update SQL commands to handle backup owner keys
  * Add support for backup owners and allow updating LNS fields
  * Rename data/entry -> lns_extra, bit_field_* -> field_*
  * Move null checks to general validate section, use macro for error reporting
  * Owner is optional, if not specified it will use the current wallet
  * LNS s/row/column, was using row where column should be
  * Support updating individual fields via LNS update txs
  * Rewrite reorgs to handle LNS TX updates
  * CoreTests: Updates to LNS records don't update register_height
  * Remove constexpr on member functions due to gcc 5.* bug
  * LNS: bitwise operators for extra_field, removing uneeded KV_*OPT
  * Move sql_run_statement get_mappings into separate function
  * Rewrite error reporting to use check_condition
  * Fix rebase bugs

  [ Maxim Shishmarev ]
  * Add storage server lokimq port (#1056)

  [ Jason Rhinelander ]
  * Remove unused functions

  [ Doyle ]
  * Add type check to polymorphic keys/signatures

  [ Jason Rhinelander ]
  * Add HF16 miner fee = 1 sat temporary hack
  * Add arm64 build to allow_failures (#1062)
  * gcc is (correctly) throwing a misleading indent warning here (#1063)
  * quorumnet blink fix: reply using a ConnectionID instead of pubkey
  * Fix blink test coin generation

  [ Maxim Shishmarev ]
  * Bump min storage server version requirement to 2.0.0 (#1065)

  [ Jason Rhinelander ]
  * Add testnet HF-15 fork height (#1066)

  [ Doyle ]
  * Bulletproof tests fixes for changed block reward
  * Add workaround for non-existent miner fee in HF16
  * LNS: Print name hash when requesting names to owners

  [ doyle ]
  * Move operator<<(stream, tx_extra_loki_name_system) above check_condition

  [ Doyle ]
  * Update version name and value to 7.0.0
  * Min uptime version=7.0.0, centralise defn to other version vars
  * Remove unused gpg_keys (#1068)
  * Accept wallet address for LNS buy/querying for type safety
  * LNS size check after eating all arguments (potential null ptr deref)
  * Display (none) correctly for empty owners and prev_txid
  * Avoid serializing hashes if null, add null operator to crypto::hash
  * LNS: Remove the wallet's ed25519 key, we support wallet addresses
  * LNS: Update client side name validation
  * LNS: Disconnect rpc query if name is invalid for type
  * LNS: Remove parse_lns_name from CLI wallet
  * LNS: Disable localhost.loki, disallow '_'s in lokinet
  * Docker static build hacks/fixes for Valiant Vidar
  * Replace ARG NPROC with invoke $(nproc) directly, remove unbound hack
  * Update loki-mq submodule
  * LNS: Lowercase names at the boundary between LNS and user code

  [ Jason Rhinelander ]
  * Rediff patches

 -- Jason Rhinelander <jason@imaginary.ca>  Fri, 13 Mar 2020 00:58:32 -0300

loki (6.1.4-3) unstable; urgency=medium

  * Bump lokinet-router version for SN metapackage

 -- Jason Rhinelander <jason@imaginary.ca>  Mon, 20 Jan 2020 14:37:56 -0400

loki (6.1.4-2) unstable; urgency=medium

  * add missing libsystem-dev dependency

 -- Jason Rhinelander <jason@imaginary.ca>  Mon, 20 Jan 2020 02:08:38 -0400

loki (6.1.4-1) unstable; urgency=medium

  [ Jason Rhinelander ]
  * Remove pre-HF14 p2p vote relaying command
  * Remove pre-HF14 code
  * set_daemon mutex fix and simplifications
  * Disable long polling for blink tests
  * Don't use pool tx list from long polling
  * Fix rare blink pool deadlock
  * Add systemd notify & watchdog support (#1022)

  [ Doyle ]
  * Update v6 patch to 4 (#1023)

  [ Jason Rhinelander ]
  * Rediff patches
  * Change systemd service files to notify & watchdog

 -- Jason Rhinelander <jason@imaginary.ca>  Mon, 20 Jan 2020 00:02:41 -0400

loki (6.1.3-2) unstable; urgency=medium

  * Add upstream patches for blink deadlock (#1021) and wallet rpc (#1020)

 -- Jason Rhinelander <jason@imaginary.ca>  Sun, 19 Jan 2020 02:35:26 -0400

loki (6.1.3-1) unstable; urgency=medium

  [ Jason Rhinelander ]
  * Rediff patches

  [ Doyle ]
  * Long polling QOL, handle errors gracefully avoid lock contention
  * Update v6 patch to 3
  * Regenerate the checkpoint table in lmdb
  * Add a flag to disable long polling on wallets
  * Delay checking the long poll disable flag until m_wallet is init

  [ Jason Rhinelander ]
  * Quorumnet - fix premature x25519 cache expiry
  * Add public ping target to quorumnet
  * Added quorumnet ping script

  [ Doyle ]
  * Handle blink param in WalletAPI
  * Update virtual to override for wallet api
  * Use old serialization for libc++ (android and apple)
  * Add blink param for sending blobs to remote nodes for mobile
  * Update blink priority to 5
  * Enable long polling for mobile targets

 -- Jason Rhinelander <jason@imaginary.ca>  Wed, 15 Jan 2020 22:44:54 -0400

loki (6.1.2-1) unstable; urgency=medium

  [ Jason Rhinelander ]
  * Fix 6.1.1 compilation (#1002)

  [ Doyle ]
  * Fallback to old stream deserialization for mac targets
  * Update v6 patch to 2
  * Add workarounds for static initialization fiasco (#1005)
  * Disable soidum shared, enable static explicitly to force static link in binary (#1003)

  [ Jason Rhinelander ]
  * Handle no blink quorum result gracefully (#1006)

  [ Doyle ]
  * Service Node List reset, should reset all transient fields (#953)
  * Add missing initialiser for m_store_quorum_history (#1009)

 -- Jason Rhinelander <jason@imaginary.ca>  Thu, 09 Jan 2020 15:21:18 -0400

loki (6.1.1-1) unstable; urgency=medium

  [ Jason Rhinelander ]
  * Add my private key; fix permissions/line endings
  * Add my private key; fix permissions/line endings
  * Fix 6.1.1 compilation

  [ Doyle ]
  * Byte calc for signatures uses post-endian converted number (#997)
  * Migrate old checkpoints to new aligned checkpoints data structure
  * Detect unaligned entries via record size, static assert record sizes
  * Add voter_to_signature padding for 32/64bit uniformity
  * Add wallet long polling to wallet-cli
  * Add long polling to wallet-rpc
  * Rate limit long polling connections
  * Stop endlessly asking the user for password after refreshing
  * Don't update tx pool cache unless long poll succeeded
  * Include <stack> in rpc_command_executor, macOSX10.13 failure (#999)
  * Parameterize the number of long poll connections via rpc-long-poll-connections
  * Add wait for condition to check tx pool count
  * Update v6 patch to 1 (#1000)

 -- Jason Rhinelander <jason@imaginary.ca>  Tue, 07 Jan 2020 13:34:02 -0400

loki (6.1.0-1) unstable; urgency=medium

  [ Jason Rhinelander ]
  * Don't print worker_index when not an obligations vote (#987)

  [ Doyle ]
  * Update minor versrion to 1, set release name

  [ Jason Rhinelander ]
  * Fix contrib/depends library incompatibilities
  * Fix type disagreement (size_t vs uint64_t)

  [ TheCharlatan ]
  * Add depends riscv 64 bit support

  [ hyperreality ]
  * Fix Travis build on Windows + Mac

  [ Howard Chu ]
  * Add Android support
  * depends: Add FreeBSD support
  * Add ARFLAGS
  * Fixup sodium darwin
  * Fix unwind library ordering
  * "Fix" non-determinism in native_cctools build

  [ Jason Rhinelander ]
  * openssl depends makefile fix
  * macos workaround: use boost::shared_mutex
  * Remove unneeded patch
  * Another macOS workaround
  * Disambiguate write txn error message
  * de-constexpr for xenial
  * Avoid long-deprecated boost::sleep
  * Blockchain/tx_pool/batch lock fix
  * Replace once_a_time_seconds; send proofs faster
  * Remove unused help message
  * Fix missing blink bug
  * Blink RPC updates & fixes
  * Fix crash when receiving blocks for unknown quorum
  * Check for tx pool conflicts for non-blocks, too
  * Improve locking in mempool removal
  * Wording fix for lock fix
  * Blink-related debugging addition
  * Give second chance to peers
  * Blink blockchain rollback fixes
  * Don't request too-high or fail on blinks while syncing
  * --regtest fixes and mine n blocks ability
  * test code: add ability to trigger p2p resync
  * Add blink tests via pytest
  * Add hardfork at height 442333
  * Add compatibility lock calls to test suite
  * Add ppc64le to allow_failures
  * Update metapackage depends versions
  * Send fake versions in fake ping
  * Add blinks even if tx already known

 -- Jason Rhinelander <jason@imaginary.ca>  Thu, 26 Dec 2019 16:25:33 -0400

loki (6.0.0+git20191216-3) unstable; urgency=medium

  * Add default quorumnet ports to ufw

 -- Jason Rhinelander <jason@imaginary.ca>  Tue, 17 Dec 2019 02:17:41 -0400

loki (6.0.0+git20191216-2) unstable; urgency=medium

  * Rediff patches

 -- Jason Rhinelander <jason@imaginary.ca>  Mon, 16 Dec 2019 23:57:10 -0400

loki (6.0.0+git20191216-1) unstable; urgency=medium

  [ Jason Rhinelander ]
  * SNNetwork: make quorum commands tri-state

  [ Doyle ]
  * Guard against null ptr deref on quorumnet layer

  [ Jason Rhinelander ]
  * Abstract assert + reinterpret_cast
  * register_command: switch arg order; drop std::function
  * Add `is_service_node()`
  * Add libevent-dev dependency
  * Add lokinet dep to loki-service-node metapackage
  * Do txn handling via TXN_BLOCK_PREFIX macro (#982)
  * Cleanup on block adding failure (#983)
  * Add ucf dependency
  * Sort `print_sn` checkpoint votes (#985)
  * Vote serialization compatibility fix (#984)

 -- Jason Rhinelander <jason@imaginary.ca>  Mon, 16 Dec 2019 21:02:38 -0400

loki (6.0.0-1) unstable; urgency=medium

  * Rediff patches
  * Cherry-pick: Do txn handling via TXN_BLOCK_PREFIX macro

  [ Jason Rhinelander ]
  * iOS build fix (#903)

  [ Doyle ]
  * Fix "__memcpy_chk" undefined on Windows target
  * Add rpc markup for transfer_view and add no doc gen markers
  * Disable pruning in Loki, it is not supported yet
  * Remove check_tx_syntax unused since 2015
  * Remove unused params in check_tx_input
  * Remove hard-forking code on the boundary of 12 and 13 (#919)

  [ Jason Rhinelander ]
  * Simplification of ins/outs for pre-rct txes
  * Move hash strings & improve sort order comment
  * Remove unimplemented functions
  * Remove dead code
  * Add fee burning
  * Remove boost::value_initialized and BOOST_FOREACH (#921)

  [ Mikunj Varsani ]
  * Fix iOS Build (#908)

  [ Jason Rhinelander ]
  * Remove unmaintained & fails-to-compile block template creation code
  * Fix inverted logic on 0 confirmation check

  [ Doyle ]
  * Removed unused tx_details data structure

  [ Jason Rhinelander ]
  * Add optional get_n_sns RPC request; remove get_all_sn_pubkeys RPC
  * Remove base32z encoding
  * Add ed25519 and x25519 keys to get_sn_pubkey rpc

  [ Doyle ]
  * Don't define empty CPUID(..) if not x86-64, avoids unused func error
  * Fix WARNING_AS_ERROR -> WARNINGS_AS_ERRORS typo (#929)

  [ 1point21gigabytes ]
  * explicitly specify UTC (#931)

  [ Jason Rhinelander ]
  * Teach epee to serialize std::array & simplify template code
  * Add ability to retrieve private keys from lokid
  * Add lokinet ping rpc endpoint
  * Rename fields & doc generation fixes

  [ Doyle ]
  * Aggegrate init service node info instead of setting members individually (#934)

  [ Jason Rhinelander ]
  * Quorumnet network communication layer
  * Add quorumnet comms
  * Fix p2p and cryptonote_protocol CMakeLists.txt
  * Remove C++11 compatibility backport for enable_if_t/remove_cv_t
  * Add missing <map> header
  * Remove unused sodium bits
  * Rename `testing_quorum` class to just `quorum`
  * Remove debugging
  * Optimize control socket common case
  * C++14 conditional_t simplification
  * Avoid serialization copy for c strings and string literals
  * Make warning message logic less confusing
  * Set maximum message size on internet sockets
  * Add quorum conn index iterator for incoming conns
  * Move one_shot_read_buffer into own header
  * one_shot_read_buffer to common & accept std::string
  * Avoid copying when deserializing txes
  * Add & use `tools::enum_count` to get _count as underlying type
  * Reorganize size check to check before mutating
  * Add "optional" send and improve send() API
  * Reduce scope of rpc-specific value
  * More optional handling, add keep-alive option
  * Remove iostream debug, add istream
  * Add bool operator on signatures
  * Store loki version as std::array<u16,3> everywhere
  * Add tx_blink to core build files
  * Remove pointless check against already called
  * Add blink quorums
  * Add tmux color support
  * Blink WIP
  * Remove useless goto
  * Make print_*_verification_context thread safe
  * Replace utf8 small tilde (Ëœ) with ascii tilde (~)
  * Fix obviously broken unthrown wallet exceptions
  * Fix register_service_node priority being ignored
  * Uptime proof timer tweak + debug option
  * Make crypto::signature hashable
  * Make `block` movable
  * Expose accessor for service_node_list in core/blockchain
  * Switch service_node_keys to plain pointer instead of shared_ptr
  * Fix reading uint64_ts
  * Remove sweep_style
  * Blink
  * Add fee burning
  * Remove boost::value_initialized and BOOST_FOREACH
  * Allow epee async call response values to be moved
  * epee serialization simplifications
  * Align hashable data structures
  * Remove useless templates
  * Fix broken documentation
  * Move randomness into new common/random.h
  * Simplify tx padding by just adding random bytes
  * Remove unused, obsolete `print_pool` method
  * DRY pool printing
  * LockedTXN fixes/simplifications
  * Deconvolute code
  * Removing unneeded (and possibly harmful) packing
  * Minor: improve variable names
  * Added ability to query just tx heights & immutable checkpoint height
  * Expose pool reference from core
  * Blink synchronization
  * Test suite compilation updates
  * Another test fix
  * Simple review fixes
  * Wallet fixes
  * Avoid potential data race in delayed signature storage
  * Fixed blink support work in wallet2 & simplewallet
  * Don't shadow variable name
  * Catch and propagate exceptions to promise
  * Review fixes
  * Review: Add more checks to wallet blink handling
  * Remove default from get_{min,max}_version_for_hf
  * Generic burn fee checking + blink burn fee checking
  * Fix constant name in comment
  * Removed unused fee code
  * Simplify exceptions and inherit from std::runtime_error
  * Remove dead code
  * Simplify get_short_chain_history
  * Remove pointless epee abstraction
  * Add ability to fetch multiple tx heights at once
  * Add tx synchronization
  * Add blink HF version checks
  * blink sync fixes
  * Make debug messages unique
  * Unbreak blink status via rpc
  * Remove unused variable
  * Correct Loki copyright years to include 2018
  * Filter and clean up immutable blinks in get_blink_hashes_and_mined_heights
  * Avoid string allocation
  * Split up and DRY prune(); make Blockchain and tx_memory_pool Lockable
  * Rename keep_missing -> keep_missing_blinks
  * Don't prune blink txes
  * Update get_transactions_heights to use added db multi-height call
  * Add tx pool blink replacement
  * Readd handle_incoming_txs & locking fixes
  * Pruning fix
  * Added needed stubs/changes to appease the test suite
  * Properly support fee burning in the wallet
  * Move burn application into construct_tx_with_tx_key
  * Fix wallet_rpc and tests for new loki_construct_tx_params usage

  [ Doyle ]
  * Check blockchain init failure before r is overwritten (#937)

  [ Jason Rhinelander ]
  * Add compatibility fix for pre-4.3 zmq
  * Fail if libsodium not present and add dep to quorumnet
  * Fix for older libc++ (#938)
  * Don't try forward declaring is_byte_spannable
  * Testnet fork height
  * Don't check popped-from-block txs for non-standard tx conflicts
  * Bump version to 6.0.0
  * Fix `print_sn` sort order
  * Promote SN state change errors to MERROR

  [ Doyle ]
  * Don't check alt quorums when processing blocks on the mainchain

  [ Jason Rhinelander ]
  * Rewrite travis-ci code
  * Use PkgConfig to properly find zmq/sodium
  * Add required definition for pre-C++17
  * Who knew there are more non-x86 architectures than just arm?
  * older gcc and clang fixes
  * big-endian fix - can't inplace convert a const value
  * Switch deprecated random_shuffle to shuffle
  * Avoid unused result warning
  * Split up huge instanciations & header fixes
  * Use pkg-config for unbound and miniupnpc
  * Silence clang unknown pragma warnings
  * clang doesn't link properly with -fcf-protection
  * Make miniupnpc include/link dirs global
  * Remove unused `this` capture
  * Fix block ctors

  [ iDunk5400 ]
  * depends: fix monero binaries Boost linking errors

  [ TheCharlatan ]
  * Add ncurses package for linux and darwin readline

  [ iDunk5400 ]
  * depends: attempt to fix readline

  [ Howard Chu ]
  * Fix readline build

  [ Jason Rhinelander ]
  * Remove cppzmq build system dep
  * Remove ccache from deps
  * Update sodium to 1.0.18
  * Update zeromq to 4.3.2 and enable sodium & curve
  * Update hidapi to 0.9.0
  * Update ldns to 1.7.1
  * Update libusb to 1.0.23
  * Update openssl to 1.1.1d
  * Remove unused (and outdated) libunbound
  * allow failures for windows
  * Remove cppzmq from readme, since we vendor it

  [ Doyle ]
  * Build/core test fixes, incoporate staking changes from LNS
  * Add test for insufficient staking contributions bypassing client tests
  * Reduce some of the block counts for prepping tests
  * core_tests: gen_block_invalid_binary_format = working
  * core_tests: gen_bp* change to always test against the latest HF
  * core_test: gen_double_spend_in_different_blocks = work
  * core_tests: gen_double_spend_in_the_same_block = work
  * Add an event marker type that can display user messages during tests
  * core_tests: gen_double_spend_in_different_blocks = work
  * core_tests: gen_double_spend_in_different_chains = work
  * core_tests: gen_double-spend_in_alt_chain* = work
  * Update core tests for Blink changes
  * enum_top, use burn hf in sanity check, fill new construction data
  * Don't query prune blockchain arg boost cast failure
  * Prune alt chains that are too old to be considered (#918)

  [ Jason Rhinelander ]
  * Fix test suite compilation
  * Fix burn tx construction; fix multi-tx overburning
  * print_sn formatting tweaks & aux pubkeys
  * Don't show +detail in not found message
  * __thread -> thread_local (#951)
  * Add lokinet ping to RPC and `status` + status message tweaks
  * Remove broken timing "optimization"
  * Actually set the retrieved state change value
  * Fix variables names in .h to agree with .cpp
  * Fix test suite compilation error
  * Fix off-by-one error in remote-only quorumnet
  * Reply to a tagged blinks arriving after approval/rejection
  * Return success/rejection response on first blink quorum response

  [ Doyle ]
  * Store more quorums than just the immutable checkpoint

  [ Jason Rhinelander ]
  * LMDB - code improvements
  * db_txn_guard: allow BlockchainDB passed by reference
  * Eliminate state_t lookup temporaries (C++14)
  * Store uptime proof data separately from states
  * Don't reset proof data when rescanning
  * Take mdb_block_info pointer in 64bit value helper
  * Iterate directly on service node info map
  * Log warning when ed25519 -> x25519 conversion fails
  * Simplify service_node_proof_serialized ctor
  * Clear our own proof timestamp when loading
  * Split up handle_vote
  * update_checkpoint logic
  * Keep checkpoint votes over p2p
  * Green alert loudly on first signicant ping
  * Set minimum version for v14
  * Simplify serialization code and drop unsupported versions
  * Don't count unmined blink txes in unlocked balance
  * Show mined, but uncheckpointed, blink txes as blinks

  [ Doyle ]
  * Add new missing relay vote testing functions
  * Update service node info to v4, no data conversions necessary
  * Fix GCC5.5 not being smart about evaluating dead branches

  [ Jason Rhinelander ]
  * Work around broken database interface
  * Simplify and avoid uninitialized value warning (#976)
  * Add helper header/func to obtain unique locks
  * Fix deadlock
  * Attempted fix to make macOS clang happy
  * Admit defeat for now: use boost::lock

 -- Jason Rhinelander <jason@imaginary.ca>  Sat, 14 Dec 2019 12:37:58 -0400

loki (5.1.5-1) unstable; urgency=medium

  [ Doyle ]
  * Add immutable_height and hash field to get_height/get_info calls (#917)

  [ Jason Rhinelander ]
  * Fix `print_sn` sort order
  * Promote SN state change errors to MERROR

  [ Doyle ]
  * Query state archive when processing state changes
  * Bump patch to version 5

 -- Jason Rhinelander <jason@imaginary.ca>  Mon, 02 Dec 2019 21:17:44 -0400

loki (5.1.3-1) unstable; urgency=medium

  [ Doyle ]
  * msys2: request git in packages, update sample version in text
  * Remove endian swap on non-integral type enum struct blob_type
  * Avoid checkpoint reorg-ing in the P2P thread; potential lockup
  * Bump v5 patch to 3

  [ Jason Rhinelander ]
  * Put logs in /var/log/loki

 -- Jason Rhinelander <jason@imaginary.ca>  Mon, 28 Oct 2019 01:18:29 -0300

loki (5.1.2-2) unstable; urgency=medium

  * Move ucfr to happen after merging

 -- Jason Rhinelander <jason@imaginary.ca>  Tue, 22 Oct 2019 09:43:40 -0300

loki (5.1.2-1) unstable; urgency=medium

  [ Jason Rhinelander ]
  * Refresh arm patch

  [ Doyle ]
  * Fix wrong amount in number of blocks to unlock on boundary
  * Fix main blockchain height wrong error in alt blocks
  * Bump V5 patch to 2
  * Demote logs for TXs in the txpool due to kept_by_block
  * Distinguish pop_blocks from reorg in detach hook
  * Guard against unexpected infinite loop, early out alt state cull (#896)
  * Update blocks blob v5.1.1 to 321467 (#897)

 -- Jason Rhinelander <jason@imaginary.ca>  Wed, 16 Oct 2019 12:37:28 -0300

loki (5.1.1-1) unstable; urgency=medium

  [ Jason Rhinelander ]
  * Add version requirement for loki-storage-server

  [ Howard Chu ]
  * Don't set ARCH_ID if it's already set

  [ Jason Rhinelander ]
  * Refresh patches
  * Fix broken arch flags
  * Fix version printing in info message
  * Fix compilation flags; add armhf flags
  * Add -marm for armhf; without it parts of glibc fail
  * Add cmake code to add -latomic (for armhf)
  * Fix ARM_ID to make randomx happy on arm64

  [ Doyle ]
  * In openssl >1.1, SSL_CTX_set_ecdh_auto is macroed 1, cast to calm warnings
  * dockerfile: Build Sodium before ZMQ for --with-libsodium for symbol decl conflicts

  [ Jason Rhinelander ]
  * Fixes xenial/gcc5 test suite build

  [ Doyle ]
  * Specify boost no system paths properly, fix type ambiguity in epee

  [ Jason Rhinelander ]
  * Simplified get_transfers and fixed sort segfault

  [ Doyle ]
  * Bump v5 patch to 1

 -- Jason Rhinelander <jason@imaginary.ca>  Thu, 10 Oct 2019 01:35:33 -0300

loki (5.1.0-1) unstable; urgency=medium

  [ Jason Rhinelander ]
  * Initial stable Loki 5 release

  [ Doyle ]
  * Update ip to address param change for integration test

  [ Maxim Shishmarev ]
  * Fix decommissioned snodes not leaving swarms (#812)
  * Enforce minimum storage server version since hardfork 13 (#811)

  [ Jason Rhinelander ]
  * Removed unused/always-obsolete macros
  * Silence gcc 9 warnings
  * Make debian/rules work with ARM32/64
  * Remove obsolete hard fork wallet code
  * Switch to per-byte + per-output fees, reduce max multiplier
  * Rename `result` -> `failure` to improve readability

  [ Doyle ]
  * Separate long term service node state into archive from recent history set (#815)

  [ Jason Rhinelander ]
  * Update testnet & stagenet seed nodes (#818)

  [ Doyle ]
  * make get_checkpoints_range faster by using lmdb cursor as iterator (#819)

  [ Maxim Shishmarev ]
  * Add storage server reachability field; test it with quorums (#820)

  [ Doyle ]
  * Add alt block added hook
  * Incorporate checkpoint validation into syncing step
  * Remove using select_winner twice in block reward check
  * Remove Blockchain dependency in service_node_list::state_t
  * Handle quorums needing to be stored in the previous state_t
  * Revamp core_tests linear_chain_generator to support state_t
  * Add migration code for service node state format updates
  * Code review

  [ Maxim Shishmarev ]
  * Bump min SS version to 1.0.6 (#826)

  [ Doyle ]
  * Update soft-forking checks to be effective HF13 (#825)
  * Only use greater pow alt chain if it has more checkpoints
  * Fix race condition on querying get_info during a reorg
  * Store alt checkpoints into the db to be applied on reorg
  * Update for_alt_blocks to support checkpoint blobs
  * Add static assert on blob_header to check for alignment
  * Skip V1 txs when iterating through the blockchain
  * Check checkpoints for all alt blocks along the alt chain (#829)
  * Clean up core tests (#830)
  * Don't allow duplicate ip changes for the same height (#831)

  [ sachaaaaa ]
  * New wallet rpc command `get_transfers_csv` (#749)

  [ Doyle ]
  * Check wallet is connected before entering trigger happy exception functions (#838)
  * Don't verify checkpoints until after HF13 (#834)
  * Rescan difficulty periodically, fix incorrect timestamps/difficulties in rescan (#835)
  * Add hard fork date for testnet to v13 (#833)
  * Don't constexpr operator< otherwise gitlab-ci complains (#839)
  * Revert "Remove -Werror"
  * Avoid VLA when array size known at compile time, ISO C90 compiler error

  [ moneromooo-monero ]
  * rpc: work around a GCC 7.4.0 (at least) bug

  [ Doyle ]
  * ifdef x86 CPUID to avoid 'cpuid' defined but not used error

  [ Jason Rhinelander ]
  * Silence gcc 9 warnings & fix potential unaligned access
  * Silence gcc9 warning: remove unused function
  * Fix unused variable warning

  [ Doyle ]
  * Add WARNINGS_AS_ERRORS flag for release builds
  * Add message on receipt of your own uptime proof from network
  * Relay proofs back to source, but don't relay your proof again

  [ Jason Rhinelander ]
  * Use pre-penalty base reward for non-miner block reward
  * Renamed and reorganized fee calculations

  [ Doyle ]
  * Remove sychronization check on receipt of uptime
  * Include the tip of the chain when recalculating difficulty (#847)
  * Add +detail to print_sn|print_n_status, display checkpoint and reachability
  * Report portential decomission and recommission for your node
  * Add core test for service node reward dervied from unpenalized reward

  [ moneromooo-monero ]
  * p2p: fix bans taking port into account

  [ Doyle ]
  * Enforce checkpoint quorums min size and soft fork it for testnet (#842)
  * Switch to using validators for checkpoints (#850)
  * Add testnet checkpoint & enable checkpoints from json (#851)
  * Only store block hashes for invalid blocks
  * Don't form invalid BEI's by passing in empty checkpoints if not checkpointed
  * Print the correct height in checkpoint quorum error
  * Make empty quorum if height is checkpointable but insufficient nodes

  [ moneromooo-monero ]
  * Revert "Fix check for disconnecting peers when syncing"
  * Revert "cryptonote_protocol: drop peers we can't download from when syncing"

  [ Jason Rhinelander ]
  * Show one-line SN summary in `status`
  * Show "(never)" instead of 18163.1 days ago

  [ Doyle ]
  * Clarify some error message wording, don't print quorum failures early (#858)

  [ moneromooo-monero ]
  * epee: misc_log_ex.h can now be used in C code

  [ Jason Rhinelander ]
  * Update randomx external repository

  [ Howard Chu ]
  * Updated RandomX integration from upstream

  [ Doyle ]
  * 2 checkpointing fixes (#861)
  * Update checkpoints votes UI earlier, tweak how we count votes (#860)
  * Add immutable_height to get_info call
  * Display checkpointedness of transactions in wallet

  [ Jason Rhinelander ]
  * Relax p2p connection restrictions for testnet/stagenet (#864)

  [ Doyle ]
  * Merge transfer_view and transfer_entry together

  [ Howard Chu ]
  * Fix randomx cache selection for RPCs

  [ Jason Rhinelander ]
  * Reward fudge factor (#867)

  [ Doyle ]
  * Fix the overflow test for fee and block_reward in blocks (#869)

  [ Jason Rhinelander ]
  * Remove POD_CLASS macro and pointless pack pragmas
  * Remove crypto::crypto_ops
  * Use perfect forwarding to set default serialize value
  * Forward declaration updates
  * Switch loki core to C++14
  * Make quorum_type directly printable
  * Add --dev-allow-local-ip flag for allowing local network public-ip
  * Remove useless method.
  * Add updated zmq c++ library
  * Add helper function to memcpy multiple variables
  * Code cleanup & minor reorganization
  * Add unified key container
  * Add SN ed25519/x25519 pubkeys + quorumnet port in proofs
  * Simplify memcpy with offset using recently added memcpy_le helper

  [ Howard Chu ]
  * Update to RandomX v1.1.3, simplify
  * Fix for miners on reorg

  [ Doyle ]
  * Print service node winner, cdifficulty and fix block_weight (#870)

  [ Jason Rhinelander ]
  * Delay SN info duplication
  * Fix version_t count assert
  * Wait for storage server (#874)

  [ Doyle ]
  * Update storage server minimum required patch to 7 (#876)
  * Turn staking requirement into integer math variant, courtesy of Jagerman

  [ Jason Rhinelander ]
  * Change operator fee wording (#879)

  [ Doyle ]
  * Code review
  * Set rounding mode back to default (TO_NEAREST) after randomx

  [ Jason Rhinelander ]
  * Increase maximum uptime credit to 48h (#882)

  [ Doyle ]
  * Set rounding mode explicitly where we need it
  * Bump minor patch to 1 and enforce uptime proof minor version (#881)
  * Add cfenv header for block reward calculation to set rounding

 -- Jason Rhinelander <jason@imaginary.ca>  Wed, 09 Oct 2019 01:18:56 -0300

loki (4.0.5-1) unstable; urgency=medium

  [ Jason Rhinelander ]
  * Print good/bad winners in incorrect winner error

  [ Doyle ]
  * Fix service node winner incorrect error
  * Remove rollback code and old serialization method, mandate rescan

  [ Jason Rhinelander ]
  * Fix 4.0.4 uptime proof transmission after recomm
  * Fix check for disconnecting peers when syncing

  [ Doyle ]
  * Fix service node winner incorrect error
  * Don't version code because adding only_loaded_quorums breaks compat
  * Serialize long term storage separate from short term

  [ doyle ]
  * Code review

  [ Doyle ]
  * Bump Hefty Heimdall patch to 5 (#804)

 -- Jason Rhinelander <jason@imaginary.ca>  Sat, 17 Aug 2019 02:28:43 -0300

loki (4.0.4-1) unstable; urgency=medium

  [ Jason Rhinelander ]
  * Subtract buffer blocks from checkpoint quorum in vote check
  * Push buffer subtraction into get_testing_quorum
  * Take safety buffer into account before printing error

  [ sachaaaaa ]
  * New print_sn_state_changes command (#727)

  [ Doyle ]
  * Revert to manually serializing checkpoints/quorum (#743)

  [ Jason Rhinelander ]
  * (Low priority) Add disabled-by-default quorum storage support (#702)
  * Fix credit calculation for awaiting service nodes (#750)
  * Fix rebase mistake from #702 (#751)
  * Suppress "transaction is locked" messages for coinbase txes (#755)

  [ Doyle ]
  * Increase the age of service node rollbacks we keep
  * Store historical states for every 10k blocks and better detach
  * ~5ms per block speed up, make serialised struct static
  * Fix pop-blocks edge case before the first 10k interval
  * Guard against invalid serialisation and change deque to vector
  * Make cosmetic changes for RPC declarations for the documentation generator (#756)
  * Fix ranged quorum query (#762)
  * Fix off by 1 when checking state_t heights causing sync failure (#759)
  * Improve duplicated non-standard tx check error messages (#763)
  * Don't query the blockchain for hardfork which causes major slowdown (#764)
  * Don't cull checkpoints if they bleed into the finality zone (#744)
  * Demote error message for missing quorum in handling non-standard txes (#769)
  * Only store service node list every 10k AND Height-N blocks (#761)
  * Remove NOTIFY_NEW_DEREGISTER_VOTE code, deprecated by service node vote
  * Inline update_miner_block_template and remove from core header
  * Remove legacy P2P vote conversion methods
  * Add missing LOKI_RPC_DOC_INTROSPECT annotations (#776)
  * Filter vote age before querying quorum (#777)
  * Add progress meter to pop_blocks (#770)
  * Use defer on scope exit to remove some repetitive code (#771)
  * Bump Hefty Heimdall patch to 4
  * Immutable checkpoint api update (#773)
  * Fix off by one in deleting checkpoints on detach (#780)
  * Remove boundary HF12 uptime proof code (#785)
  * Handle multi state changes in the pool (#781)
  * Make the rollback code for update_checkpoint be soft-forky on mainnet (#782)
  * Make 4.0.4 service node blob backwards compatible (#786)
  * Fix silly didn't try compile boo boo. nettype() not nettype (#790)

  [ Jason Rhinelander ]
  * Optimizations and simplifications
  * Use shared_ptr storage for service_node_info
  * Update seed nodes (#791)

  [ moneromooo-monero ]
  * p2p: add a few missing connection close calls
  * cryptonote_protocol: drop peers we can't download from when syncing
  * daemon: fix "never seen before" time span display for peers
  * p2p: don't forget pruning seed or public RPC port when updating peers
  * p2p: delay IGP probing on startup
  * p2p: don't connect to more than one IP per class B if we can

  [ Doyle ]
  * Don't relay service node votes or uptime proof if synchronising (#779)

  [ Jason Rhinelander ]
  * Fix storage states over-reserved size

  [ Doyle ]
  * Regression core tests, missing txs on fork, segfault on detach
  * Fix shared_ptr change to get_service_node_list_state API
  * Fix checkpoint regression, must accept alt blocks if they are < the first checkpoint (#792)

  [ moneromooo-monero ]
  * p2p: propagate out peers limit to payload handler
  * p2p: close the right number of connections on setting max in/out peers

  [ Jason Rhinelander ]
  * Make close() delete the connection
  * Limit default p2p in-peers to 32
  * Don't count pingback connections as outgoing connections

  [ Doyle ]
  * Lock blockchain when quorum cop attempts to update checkpoint

  [ moneromooo-monero ]
  * p2p: store network address directly in blocked host list
  * allow blocking whole subnets
  * remove obsolete save_graph skeleton code

  [ Jason Rhinelander ]
  * Add loki docs for new banned rpc command

  [ Doyle ]
  * Enforce ordering of votes in HF13

  [ Thomas Winget ]
  * Add IPv6 support

  [ Jason Rhinelander ]
  * Fix IPv6 addr parsing for boost <1.66

  [ Doyle ]
  * Assert should be after info.is_active() is true (#799)
  * Early continue tx pool quorum query if state change is older than received block (#797)

 -- Jason Rhinelander <jason@imaginary.ca>  Thu, 15 Aug 2019 11:26:21 -0300

loki (4.0.3-5) unstable; urgency=medium

  * lmdb download script fixes

 -- Jason Rhinelander <jason@imaginary.ca>  Fri, 26 Jul 2019 02:49:16 -0300

loki (4.0.3-4) unstable; urgency=medium

  * removed postrm
  * Install lmdb download helper script

 -- Jason Rhinelander <jason@imaginary.ca>  Thu, 25 Jul 2019 17:25:10 -0300

loki (4.0.3-3) unstable; urgency=medium

  * Fix lokid restart

 -- Jason Rhinelander <jason@imaginary.ca>  Thu, 18 Jul 2019 16:28:37 -0300

loki (4.0.3-2) unstable; urgency=medium

  * Restart loki nodes in loki-service-node postinst

 -- Jason Rhinelander <jason@imaginary.ca>  Thu, 18 Jul 2019 15:10:28 -0300

loki (4.0.3-1) unstable; urgency=medium

  * Loki 4.0.3 release

  [ Jason Rhinelander ]
  * Refreshed patches
  * Don't send NOTIFY_NEW_SERVICE_NODE_VOTE before v12
  * Only create checkpoint quorum for heights divisible by CHECKPOINT_INTERVAL
  * Ensure m_last_checkpointed_height is always divisible by CHECKPOINT_INTERVAL
  * Fix height check for received checkpoint vote
  * Skip non-interval height checkpoints when loading

  [ Doyle ]
  * Document checkpoint quorum generation rules for get_testing_quorum (#733)
  * Bump Hefty Heimdall patch to 3
  * Move the refill of votes to recommission because we still update vote counts during decommission
  * Offset the vote height for checkpointing to the correct quorum height
  * Update error message on invalid quorum height for vote

  [ Jason Rhinelander ]
  * randomx build patch
  * Move libdevice_trezor.so into libloki-core-wallet
  * Version and install librandomx
  * Add bare .so symlinks to dev package
  * Add default port and public-ip debconf
  * Switch maintainer e-mail to my loki e-mail
  * Add ufw file for lokid
  * Create loki-service-node metapackage
  * Fix dev package missing *.hpp
  * Fix testnet data-dir
  * Fix -dev package to be properly multi-arch

 -- Jason Rhinelander <jason@imaginary.ca>  Wed, 17 Jul 2019 16:08:44 -0300

loki (4.0.2-1) unstable; urgency=medium

  * Loki 4.0.2 release

  [ Gingeropolous ]
  * update readme to include blurb on decentralization

  [ moneromooo-monero ]
  * db_lmdb: don't unnecessarily cast to double on the way to uint64_t
  * bulletproofs: speed up vector_power_sum
  * wallet2: fix hashchain going out of sync on refresh error
  * blockchain: fix default genesis block timestamp
  * performance_tests: better stats, and keep track of timing history

  [ Lee Clagett ]
  * Adding initial support for broadcasting transactions over Tor

  [ monerorus ]
  * README.md - add few FreeBSD instructions, fix v13.0 release tag

  [ moneromooo-monero ]
  * blockchain_prune: don't prune before v10

  [ Jethro Grassie ]
  * i2p: initial support

  [ moneromooo-monero ]
  * cryptonote_protocol_handler: pad tx messages when using tor/i2p

  [ Howard Chu ]
  * ITS#8969 tweak mdb_page_split

  [ Tom Smeding ]
  * serialization: Use pos_type instead of streampos
  * cryptonote: Add const-qualifier on comparison functor
  * cryptonote: Fix enum check in expand_transaction_2

  [ moneromooo-monero ]
  * unit_tests: remove leftover debug print
  * network_throttle: use circular_buffer where appropriate
  * wallet_rpc_server: remove detached short payment ids support
  * epee: add SSL support
  * ringct: fix v1 ecdhInfo serialization
  * simplewallet: tell the user to complain to the recipient

  [ erciccione ]
  * readme: add new workflow for translations (Pootle)

  [ cslashm ]
  * New scheme key destination contrfol
  * fix log namespace
  * Fix dummy decryption in debug mode
  * Add support for V10 protocol with BulletProofV2 and short amount.

  [ Markus Behm ]
  * Fixed missing return value in once_a_time class on windows

  [ who-biz ]
  * Update openssl to 1.0.2q in depends build system

  [ italocoin ]
  * Human readable message if maximum outputs reached

  [ Lee Clagett ]
  * Use io_service::work in epee tcp server

  [ Doyle ]
  * Don't decrypt keys in view only wallets in wallet_keys_unlocker

  [ Dusan Klinec ]
  * debug compilation fix: net lib missing common deps

  [ moneromooo-monero ]
  * simplewallet: mark confirm-missing-payment-id as obsolete
  * simplewallet: add help for ask-password options

  [ SChernykh ]
  * Cryptonight variant 4 aka CryptonightR
  * Adding cnv4-2 tweaks
  * Fixed path to int-util.h

  [ moneromooo-monero ]
  * wallet_rpc_server: add a validate_address RPC

  [ TheCharlatan ]
  * Support docker for gitian builds

  [ Jethro Grassie ]
  * wallet-rpc: get transfers for all accounts and subaddresses

  [ Tom Smeding ]
  * epee: Add space after ':' in additional http response headers

  [ Joel ]
  * Add generate_from_keys RPC method
  * Add generate_from_view_key RPC method

  [ Dusan Klinec ]
  * device/trezor: dummy payment ID fix
  * wallet: fix payment ID decryption for construction data

  [ stoffu ]
  * wallet-rpc: get balance for all accounts and subaddresses

  [ moneromooo-monero ]
  * db_lmdb: fix missing mdb_dbi_close in migration

  [ Joel ]
  * Remove code duplication

  [ moneromooo-monero ]
  * dns_utils: remove MoneroPulse/checkpoints mention in TXT record code

  [ Jesse Jackson ]
  * OS X -> macOS

  [ moneromooo-monero ]
  * rpc: quantize db size up to 5 GB in restricted mode
  * Better error when sending a tx with a too large extra field
  * miner: it can now autodetect the optimal number of threads

  [ TheCharlatan ]
  * Various speedups to depends and Travis

  [ moneromooo-monero ]
  * unbound: update to get the redefinition fix

  [ xiphon ]
  * daemon: add --public-node mode, RPC port propagation over P2P
  * daemon: add '--no-sync' arg to optionally disable blockchain sync

  [ moneromooo-monero ]
  * discontinue use of alloca
  * performance_tests: fix NetBSD build
  * cryptonote_protocol_handler: search for syncing peers in "cruise mode"
  * cn_deserialize: remove some unused code
  * dns_utils: use fallback if the default resolver does not support DNSSEC

  [ Jesse Jackson ]
  * SHALL -> MUST

  [ Nathan Dorfman ]
  * rpc: Allow submitting tx as hex blob over ZMQ

  [ Joel ]
  * Simplify RPC endpoint, emoving second RPC endpoint generate_from_view_key

  [ moneromooo-monero ]
  * wallet2: fix mishandling rct outputs in coinbase tx
  * ArticMine's new block weight algorithm

  [ moneromooo ]
  * hardfork: fix fork determination for historical heights

  [ moneromooo-monero ]
  * notify: fix tokenizing being too strict
  * core: add --block-rate-notify
  * core: add a few more block rate window sizes
  * blockchain: include number of discarded blocks in --reorg-notify
  * Print the reason why a notification spec failed to parse
  * blockchain: add v10 fork heights

  [ SChernykh ]
  * CNv4 JIT compiler for x86-64 and tests

  [ moneromooo-monero ]
  * performance_tests: add tests for new Cryptonight variants
  * crypto: clear cache after generating random program
  * crypto: plug CNv4 JIT into cn_slow_hash
  * tests: add a CNv4 JIT test
  * blockchain: forbid older BP rct versions from v11
  * various: remove unused variables
  * default initialize rpc structures
  * check load_t_from_json return values

  [ TheCharlatan ]
  * cmake: ARCH_ID fixes for cross compilation

  [ moneromooo-monero ]
  * slow-hash: fix build on arm
  * CryptonightR: define out i386/x86_64 specific code on other archs
  * db: speedup block addition
  * wallet2: don't calculate prefix hash when we don't need it

  [ Riccardo Spagni ]
  * update readme via cherry-pick
  * update checkpoints, update README for 0.14.1 release
  * update checkpoints hash
  * fix merge errors, update recommended version to 0.14.0.2

  [ moneromooo-monero ]
  * Avoid repeated (de)serialization when syncing
  * core: avoid calculating tx prefix hash when we don't need it
  * blockchain: avoid duplicate block hash computation
  * blockchain: avoid pointless transaction copy and temporary
  * save some database calls when getting top block hash and height
  * blockchain: avoid unneeded block copy
  * core: avoid double parsing blocks after hoh
  * cryptonote: speed up calculating coinbase tx prunable hash
  * cryptonote: avoid double parsing blocks when syncing
  * wallet_rpc_server: avoid repeated string allocations when parsing
  * p2p: avoid busy loop when we have nothing to connect to
  * db_lmdb: make mdb_block_info format conversion more future proof

  [ Dusan Klinec ]
  * device/trezor: debugging features, trezor tests

  [ Martijn Otto ]
  * epee: add SSL support

  [ spoke0 ]
  * add multisig tx sets to describe_transfer rpc endpoint

  [ binaryFate ]
  * Update 2019 copyright

  [ moneromooo-monero ]
  * wallet2: key image import fixes
  * rpc: make fill_pow restricted
  * tests: fix cnv4-jit-test link on mac
  * wallet2: do not use invalid keys as fake outs in rings
  * timings: fix errno.h mispelt as error.h
  * aesb: avoid stomping on an existing define on NetBSD
  * tests: handle any cmake detected python interpreter
  * gtest: build fix for NetBSD
  * crypto: fix PaX issue on NetBSD with CNv4 JIT
  * slow-hash: cache TLS references locally once at function start
  * blockchain: speed up getting N blocks weights/long term weights

  [ Howard Chu ]
  * Fix startup errors with SSL cert generation

  [ moneromooo-monero ]
  * connection_basic: remove debug exception ^_^
  * daemon: new mining_status command

  [ Jean-Michel DILLY ]
  * Start monerod as non root user

  [ moneromooo-monero ]
  * blockchain: fix ahead of time PoW batch calc

  [ Dusan Klinec ]
  * epee: certificate generation fix, pkey deleted

  [ moneromooo-monero ]
  * wallet: fix load failure if the mms isn't usable

  [ naughtyfox ]
  * Wallet API: multisig_tx_set passing bug fixed

  [ moneromooo-monero ]
  * hardfork: update last_versions on popped block
  * wallet2: don't store 0 amount outputs, they'll fail to be spent
  * tests: disable wallet SSL init for tests involving wallet2
  * wallet_rpc_server: add missing --rpc-ssl-allowed-fingerprints
  * wallet_rpc_server: include out subaddress indices in get_transfers
  * console_handler: print newline on EOF
  * simplewallet: add some missing spacing before uses data
  * miner: fix possible exit crash due to race in stop
  * tests: fix path in instructions
  * wallet2: fix generation from json when restore height is not set
  * wallet2: set seed language when creating from json
  * blockchain: do not try to pop the genesis block
  * mnemonics: fix half length seed to bytes conversion

  [ Dusan Klinec ]
  * wallet: adds rescan_bc option with preserving key images

  [ moneromooo-monero ]
  * wallet: move light wallet RPC out of core RPC
  * wallet_rpc_server: fix buffer read overflow in string assignment
  * wallet_rpc_server: new auto_refresh RPC
  * wallet: flush output cache upon reorg
  * wallet2: make use_fork_rules handle chain heights lower than leeway

  [ Howard Chu ]
  * Use threadpool instead of new threads for DNS queries

  [ moneromooo-monero ]
  * simplewallet: make the long payment ids warnigns more warney
  * rpc: quantize db size up to 5 GB in restricted mode

  [ Guido Vranken ]
  * Implement array_entry_t copy constructor

  [ Doyle ]
  * Update libwallet api for the GUI wallet
  * Add overrides to calm warnings on GUI, make is_open in header

  [ Maxim Shishmarev ]
  * core tests: update priority for service nodes selected as winners (#506)

  [ Norman Moeschter ]
  * Upgraded static dependency versions and hashes in Dockerfile.

  [ moneromooo-monero ]
  * abstract_tcp_server2: fix crashy race on socket shutdown

  [ Lee Clagett ]
  * Adding classes, functions, and utilities for common LMDB operations.

  [ Doyle ]
  * Remove old line referring to autostake (not relevant) (#505)

  [ rbrunner7 ]
  * Fix daemon startup parameter '--limit-rate' processing after parameter defaults

  [ Dusan Klinec ]
  * crypto: hmac_keccak added
  * device/trezor: HF10 support added, wallet::API
  * tests/trezor: HF9 and HF10 tests

  [ moneromooo-monero ]
  * daemon: init public_port in all ctors
  * dns_utils: really add default DNSSEC servers on failure
  * rpc: add miner tx hash to block header response
  * cmake: handle detecting boost using boost's own cmake files
  * epee: fix build with boost 1.70.0
  * slow-hash: default to JIT on x86_64
  * wallet2: sanity check new tx before sending
  * wallet: fix offline signing calling a daemon RPC
  * wallet_rpc_server: remove mixin from transfer RPCs
  * cryptonote: fix calculating coinbase tx hash
  * functional_tests: improve RPC blockchain tests
  * functional_tests: add wallet address/subaddress RPC tests
  * functional_tests: add basic mining tests
  * functional_tests: plug RPC tests into the cmake machinery
  * functional_tests: add basic transfer tests
  * functional_tests: add integrated address tests
  * functional_tests: add txpool RPC tests
  * functional_tests: support several daemons/wallets
  * functional_tests: add multisig and cold signing tests
  * functional_tests: add message signing/verification tests
  * functional_tests: add get_bulk_transfer tests
  * functional_tests: add more transfer tests
  * functional_tests: add proofs tests (tx key, in/out tx, reserve)

  [ sachaaaaa ]
  * Provide --log-level for unit tests

  [ moneromooo-monero ]
  * wallet: add freeze/thaw/frozen commands
  * functional_tests: add missing parameters to get_balance
  * functional_tests: add balance tests
  * functional_tests: move RPC API to utils, it is not test specific
  * p2p: don't lookup seed nodes when offline
  * python-rpc: add console.py
  * python-rpc: add getblockheadersrange daemon RPC

  [ Nathan Dorfman ]
  * Fix build on FreeBSD

  [ moneromooo-monero ]
  * wallet: use original user address if we have a short payment id

  [ rbrunner7 ]
  * New interactive daemon command 'print_net_stats': Global traffic stats

  [ Dusan Klinec ]
  * test: hmac_keccak - fix number of chunks counting

  [ moneromooo-monero ]
  * perf_timer: move some debug levels to info for consistency
  * Make difficulty 128 bit instead of 64 bit
  * wallet2: set confirmations to 0 for pool txes in proofs
  * core: improve block rate monitor trigger probabilities

  [ Lee Clagett ]
  * Added socks proxy (tor/i2pd/kovri) support to wallet

  [ fuwa ]
  * ringct: fix capitalization for scaler mult

  [ moneromooo-monero ]
  * wallet: fix memory only wallets
  * wallet_rpc_server: allow english/local language names in create_wallet
  * Avoid repeated (de)serialization when syncing
  * save some database calls when getting top block hash and height
  * blockchain: avoid unneeded block copy
  * cryptonote: block parsing + hash calculation speedup
  * cryptonote_basic: speedup calculate_block_hash
  * cryptonote_basic: some more minor speedups
  * wallet2: skip derivation precalc for blocks we know we'll skip
  * epee: some more minor JSON parsing speedup
  * wallet2: fix tx sanity check change test for the sweep_all case

  [ Dusan Klinec ]
  * tests: trezor_test fix

  [ moneromooo-monero ]
  * wallet2: factor the watchonly/multisig/etc fields on creation

  [ Martijn Otto ]
  * No longer use deprecated RSA_generate_key in favor of RSA_generate_key_ex

  [ moneromooo-monero ]
  * socks: fix build with boost 1.70

  [ Doyle ]
  * Fix incorrectly assigning default priority using invalid index (#509)

  [ moneromooo-monero ]
  * cryptonote_protocol_handler: add block/tx hashes in notify logs

  [ Sonofotis ]
  * Add comments and clean code for loki-rpc-doc-generator. (#499)

  [ Doyle ]
  * Since early_blocks is unsigned, remove checks intenteded for signed behaviour (#524)
  * Add missing loki.h header for LOKI_RPC_DOC_INTROSPECT define (#530)

  [ cslashm ]
  * Add application version compatibility check.
  * Add support for V11 protocol with BulletProofV2 and short amount. New scheme key destination contrfol Fix dummy decryption in debug mode
  * Add get_tx_proof support, needed for new sanity check

  [ moneromooo-monero ]
  * blockchain: simple cache for the long term block weights
  * blockchain: incremental long term block weight cache

  [ italocoin ]
  * fix init warning on whatever compiler version

  [ Dusan Klinec ]
  * device/trezor: increase live-refresh timeout

  [ moneromooo-monero ]
  * util: name replace_file arguments better

  [ Jane Mercer ]
  * do not build in parallel as it is non-deterministic

  [ moneromooo-monero ]
  * blockchain: fix returned height in create_block_template
  * lmdb: fix size_t size issues on 32 bit

  [ Leon Klingele ]
  * Add missing include

  [ Howard Chu ]
  * Add hash of top block to /getheight RPC

  [ sachaaaaa ]
  * Remove nested shadowed variables (#542)

  [ Jason Rhinelander ]
  * Add last announced SN version to stored proof info (#503)

  [ moneromooo-monero ]
  * Allow pruning before v10
  * block_weight: fix python 2/3 compatibility

  [ cslashm ]
  * Add NanoX support

  [ moneromooo-monero ]
  * wallet_rpc_server: set confirmations to 0 for pending/pool txes
  * wallet_rpc_server: always fill out subaddr_indices in get_transfers
  * wallet2: init some variables to default values if loading old wallets
  * wallet_rpc_server: add a set_daemon RPC
  * wallet_rpc_server: error out on getting the spend key from a hot wallet
  * blockchain: some debug info when adding txes-from-block fails
  * various: remove unused variables
  * blockchain_stats: fix sign in formatting function
  * miner: fix race when stopping mining with start mining enabled
  * wallet_rpc_server: always fill out subaddr_indices in get_transfers
  * wallet_rpc_server: error out on getting the spend key from a hot wallet
  * wallet2: set confirmations to 0 for pool txes in proofs
  * wallet: add number of blocks required for the balance to fully unlock

  [ stoffu ]
  * api/wallet: fix some wrong namespace

  [ George ]
  * README: add and remove dependencies on OSX line

  [ moneromooo-monero ]
  * simplewallet: new unset_ring command

  [ selsta ]
  * libwallet_merged: add missing net target

  [ moneromooo-monero ]
  * unit_tests: fix long term block weight test after cache change

  [ Maxim Shishmarev ]
  * new algorithm for generating ids for new swarms (#546)

  [ Doyle ]
  * Add override to virtual functions missing it to quell warnings

  [ moneromooo-monero ]
  * tests: add a few try/catch in main to shut coverity up
  * wallet2: support multi out txes without change in sanity check

  [ stoffu ]
  * rpc.gettransactions: fill as_json with partial tx in pruned mode
  * crypto: replace rand<T>()%N idiom with unbiased rand_idx(N)

  [ moneromooo-monero ]
  * wallet2: add --no-dns flag
  * wallet: new option to start background mining

  [ Jason Rhinelander ]
  * Fix reported wrong amount in stake error message

  [ moneromooo-monero ]
  * cryptonote: rework block blob size sanity check
  * rpc: make wide_difficulty hexadecimal

  [ Dusan Klinec ]
  * wallet: API changes to enable passphrase entry

  [ moneromooo-monero ]
  * rpc: merge the two get_info implementations
  * wallet: add number of blocks required for the balance to fully unlock

  [ Lee Clagett ]
  * Change SSL certificate file list to OpenSSL builtin load_verify_location
  * Do not require client certificate unless server has some whitelisted.
  * Change default SSL to "enabled" if user specifies fingerprint/certificate
  * Pass SSL arguments via one class and use shared_ptr instead of reference
  * Add `verify_fail_if_no_cert` option for proper client authentication
  * Require server verification when SSL is enabled.
  * Perform RFC 2818 hostname verification in client SSL handshakes
  * Call `use_certificate_chain_file` instead of `use_certificate_file`
  * Only check top-level certificate against fingerprint list.
  * Require manual override for user chain certificates.

  [ Dusan Klinec ]
  * device/trezor: add button pressed request

  [ moneromooo-monero ]
  * core: don't check block rate nor fork time in regtest mode
  * blockchain_import: error out if preparing to handle blocks fails
  * easylogging++: update to v9.96.7

  [ Dusan Klinec ]
  * build fix: combinator.h stdexcept missing include
  * tests: fix test_options initialization error
  * build: libusb static compilation fix

  [ Lee Clagett ]
  * Enabling daemon-rpc SSL now requires non-system CA verification

  [ Justin Gerber ]
  * README.md: minor spelling issue

  [ Tyler Saballus ]
  * README.md: fix missing comma

  [ Gingeropolous ]
  * README.md: fork table, copy lines from release branch

  [ sachaaaaa ]
  * Bufferless swarm assignment logic (#518)

  [ Doyle ]
  * Add introspection to dependencies outside of core_rpc, fix syntax for undocumented calls
  * Fix warnings introduced by rebase

  [ Sonofotis ]
  * Comments for rpc-doc-generator. (#544)

  [ Doyle ]
  * Remove boundary HF10/11 work-around code for uptime proofs
  * Future proof, uptime proof's version checks by changing == to >=

  [ erciccione ]
  * readme: add some more instructions for translators

  [ Doyle ]
  * Add helper functions to facilitate more reliable integration tests
  * Revert IPV6 changes and merge back in upstream
  * Merge commit '973403bc9f54ab0722b67a3c76ab6e7bafbfeedc'

  [ stoffu ]
  * blockchain: remove unused calc of short_term_constraint
  * tests/block_weight: remove unused MULTIPLIER_SMALL
  * tests/block_weight: use integer division when computing median
  * unit_tests/long_term_block_weight: some tweaks that seem to make more sense

  [ Doyle ]
  * Fix uninitialised variable in core tests causing intermittent failures
  * Add missing include for integration hook
  * Fix incomplete struct zero init merge

  [ Martijn Otto ]
  * Fix linker issues using easylogging

  [ moneromooo-monero ]
  * wallet_rpc_server: add a all flag to export_outputs

  [ Dusan Klinec ]
  * build: debug and test builds via contrib
  * tests: trezor tests fixes and improvements
  * device/trezor: env-configurable ports

  [ Doyle ]
  * Remove unneeded SFINAE on check_tx/block_verification (#558)

  [ moneromooo-monero ]
  * simplewallet: new net_stats command
  * functional_tests: add bans tests
  * functional_tests: add more blockchain related tests
  * console.py: support connecting to any host, not just 127.0.0.1
  * functional_tests: add describe_transfer tests
  * python-rpc: add set_log_level and set_log_categories
  * functional_tests: add more wallet tests
  * functional_tests: add wallet creation language tests
  * functional_tests: add alt chains tests
  * functional_tests: add double spend detection tests
  * functional_tests: cold signing key images/outputs import/export
  * console.py: add tab completion
  * functional_tests: exit with 1 if any test fails
  * cmake: always detect python, it's neeed for some tests
  * console.py: can now connect to several daemons/wallets
  * console: simple shell over console.py
  * epee: init a new ssl related variable in ctor
  * block_weight: catch exceptions in main for clean exit on error
  * simplewallet: add a welcome/disclaimer message command
  * rpc: fix off by one in get_height
  * wallet2: update estimate_rct_tx_size for smaller rct proofs
  * simplewallet: fix merge error with new welcome command
  * ringct: prevent use of full ringct signatures for more than one input
  * p2p: fix integer overflow in host bans

  [ Doyle ]
  * Update monero copyright to 2019 pre-emptively to make merge simpler
  * Add more 2019 license updates for Monero
  * Don't query moneropulse in DNS code
  * Add misnamed tx construction data member v3_use_bulletproofs

  [ stoffu ]
  * rpc.getblocktemplate: set reserved_offset to zero when reserve_size==0

  [ moneromooo-monero ]
  * wallet_rpc_server: fix inconsistent wallet caches on reload
  * simplewallet: fix warning about long payment id using the old option
  * abstract_tcp_server2: fix timeout on exit
  * rpc: new sanity check on relayed transactions
  * daemon: if a log file has a /, interpret it from the cwd
  * net_helper: avoid unnecessary memcpy
  * bulletproofs: cut down on keyV allocations
  * blockchain_db: fix db txn ending too early
  * lmdb: catch non-LMDB negative errors before strerror
  * core_rpc_server: remove dummy assigning int to bool
  * daemon: fix ratio not being floating point
  * easylogging++: minimal stdout logging format
  * cryptonote_protocol: warn when the last connection goes
  * hardfork: remove "no hf version db" recreation check

  [ Doyle ]
  * Update welcome prompt, don't default ask for background mining
  * Increment m_threads_active when mining thread starts
  * Simplify locked stakes API

  [ moneromooo-monero ]
  * rpc: set default log category in core_rpc_server.h
  * rpc: add relayed in get_transaction output
  * rpc: omit irrelevant fields for pool txes in gettransactions
  * wallet_rpc_server: remove unused code
  * functional_tests: add sweep_single test
  * wallet: new --offline option

  [ Florian ]
  * Add Brewfile to allow for an even easier management of dependencies

  [ moneromooo-monero ]
  * blockchain: lock the blockchain while pruning
  * rpc: fix get_block_hashes.bin from wallet on pruned blockchain
  * daemon: remove debug info
  * simplewallet: add another warning about long payment ids
  * rpc: add a pruned bool to the prune_blockchain call
  * wallet_rpc_server: add set_log_level/set_log_categories
  * wallet_rpc_server: set suggested_confirmations_threshold for pool txes
  * daemon: fix absolute/relative log file test for windows
  * unit_tests: undo is_blocked implementation factoring

  [ Doyle ]
  * Remove unneeded SFINAE on check_tx/block verification in core_tests

  [ stoffu ]
  * testdb: add override keyword where missing

  [ moneromooo-monero ]
  * simplewallet: add the change amount to the prompt when locking
  * wallet_rpc_server: add unlocked field to incoming_transfers output

  [ Monero-Pootle ]
  * add translations for it, fr, ja, sv from Pootle and refresh template .ts file

  [ iDunk5400 ]
  * Windows: fix a build error in MSYS2 with boost 1.70.0

  [ moneromooo-monero ]
  * epee: use boost/timer/timer.hpp, boost/timer.hpp is deprecated
  * wallet2: "output lineup" fake out selection
  * simplewallet: fix output representation offset

  [ Dusan Klinec ]
  * device/trezor: button request callback fix

  [ iDunk5400 ]
  * Windows: work around a boost 1.70 and cmake SNAFU

  [ moneromooo-monero ]
  * functional_tests: detect requests python module

  [ Lee Clagett ]
  * Fix socks tests in windows and handle errors better

  [ moneromooo-monero ]
  * hardfork: fix off by one updating fork index after popping
  * wallet_rpc_server: add block_height and frozen to incoming_transfers
  * functional_tests: reset blockchain on test start
  * serialization: set default log category

  [ Dusan Klinec ]
  * wallet: fix key image computation signaling to the device

  [ moneromooo-monero ]
  * levin_protocol_handler_async: tune down preallocation a fair bit
  * daemonizer: add --non-interactive for windows

  [ Doyle ]
  * Allow storing multiple quorum types (#562)
  * Non-Enforced Transient Service Node Checkpointing (#566)

  [ moneromooo-monero ]
  * net_helper: clear recv buffer on eof
  * unit_tests: don't delete log file on windows, it will fail
  * functional_tests: flush stdout before popening new process
  * wallet2: fix wrong change being recorded in sweep_all
  * wallet2: add missing "sanity check failed" reason message
  * tx_sanity_check: relax uniqueness check a bit

  [ Doyle ]
  * Fix nullptr check dereferencing in the checking condition (#569)
  * Revert behaviour for is_alternative_block_allowed (#568)

  [ moneromooo-monero ]
  * wallet2: default to trying to keep 5 outputs of 2+ monero
  * p2p: do not send last_seen timestamp to peers

  [ Dusan Klinec ]
  * device/trezor: device sorting and filtering improved

  [ moneromooo-monero ]
  * rpc: improve get_output_distribution
  * unit_tests: fix crash in debug in output_distribution test
  * wallet_rpc_server: fix crash in validate_address if no wallet is loaded
  * wallet_rpc_server: return false on error in set_log_categories
  * wallet_rpc_server: adding missing return on error in set_daemon

  [ Doyle ]
  * Remove loading checkpoints from DNS (#570)
  * Initialise test class members to 0 to fix intermittent failures (#574)

  [ moneromooo-monero ]
  * change SSL certificate fingerprint whitelisting from SHA1 to SHA-256

  [ Maxim Shishmarev ]
  * extend get service nodes rpc with block height and block hash (#577)

  [ moneromooo-monero ]
  * wallet2: fix infinite loop picking outputs in corner case
  * wallet_rpc_server: reject standalone short payment id in address book
  * mnemonics: fix 4 byte UTF-8 rewriting

  [ Doyle ]
  * Service Node Checkpoint Storage (#579)
  * Merge dev into upstream
  * Remove wallet dns code

  [ moneromooo-monero ]
  * cmake: fix some case of "backtrace lib not found" breaking
  * wallet2: reject standalone short payment IDs in monero: URI API
  * fix wide difficulty conversion with some versions of boost

  [ Jason Rhinelander ]
  * Add missing depends to version.cpp generator (#583)

  [ Doyle ]
  * Update MONERO_DEFAULT_LOG_CATEGORY entries

  [ moneromooo-monero ]
  * blockchain: keep a rolling long term block weight median
  * error: fix compile error on windows with depends

  [ Jason Rhinelander ]
  * CLI wallet wording fixes/improvements for SN commands (#587)

  [ moneromooo-monero ]
  * cmake: fix incorrect hint for OPENSSL_ROOT_DIR
  * mlog: default to not showing SSL errors

  [ Doyle ]
  * Add workaround for sanity checking output keys in wallet2
  * Update MONERO #defines to LOKI
  * Fix ledger re-declaration of is_change

  [ moneromooo-monero ]
  * net_ssl: SSL config tweaks for compatibility and security

  [ Doyle ]
  * Fold down extraneous loops over the same data, add early break in check (#592)

  [ moneromooo-monero ]
  * rpc: fail update RPC when running offline
  * net_ssl: free certs after setting them up
  * wallet_rpc_server: use original addresses in destinations in get_transfers
  * password: do not use line input on windows
  * wallet: fix certificate fingerprint length check

  [ Rohaq ]
  * Added Table of Contents to main README.md
  * Updated Copyright notice
  * Made code block usage consistent across all .md files
  * Used subeaders to avoid slightly wonky looking formatting
  * Changed odd bullet point to low level header

  [ Maxim Shishmarev ]
  * sort sn list before applying updates; only assign swarms to fully funded snodes (#605)

  [ Doyle ]
  * Remove unused variables (#593)
  * Remove virtual and add override to top_block_hash
  * Switch to modern bytes format and add missing override

  [ moneromooo-monero ]
  * wallet: add unlock_time details to show_transfers

  [ who-biz ]
  * [depends] update openssl to 1.0.2r

  [ Howard Chu ]
  * Fix #5553

  [ moneromooo-monero ]
  * unit_tests: make the density test a bit less stringent
  * functional_tests: fix rare get_output_distribution failure

  [ Lee Clagett ]
  * Fix configuration bug; wallet2 --daemon-ssl-allow-any-cert now works.
  * Add ssl_options support to monerod's rpc mode.
  * Fix allow any cert mode in wallet rpc when configured over rpc

  [ moneromooo-monero ]
  * core: do not commit half constructed batch db txn
  * blockchain: do not try to pop blocks down to the genesis block

  [ Maxim Shishmarev ]
  * Add blockchain testing routine (#608)

  [ Doyle ]
  * Restore old style hashing for non-standard TX's so calculated hashes are consistent (#613)

  [ moneromooo-monero ]
  * core: update pruning if using --prune-blockchain on a pruned blockchain

  [ Doyle ]
  * Update readme ports and versions

  [ moneromooo-monero ]
  * functional_tests: fix python3 compatibility

  [ Doyle ]
  * Unify and move responsibility of voting to quorum_cop (#615)

  [ moneromooo-monero ]
  * blockchain: keep alternative blocks in LMDB

  [ Howard Chu ]
  * RandomX integration
  * Proposed tweak for issue with finding seedblock hash
  * Updated to RandomX v1.0.3

  [ Doyle ]
  * Remove unused txs member in NOTIFY_RESPONSE_GET_OBJECT (#619)
  * Enforce miner tx version (#623)
  * Remove non-fluffy blockchain syncing path (#618)
  * Service Node Checkpointing Basic Syncing (#621)

  [ Maxim Shishmarev ]
  * Incorporate service node ip address into uptime proofs (#622)

  [ Doyle ]
  * Integration Test: Granular block mining (#625)

  [ Maxim Shishmarev ]
  * Print ip and port with print_sn command (#627)

  [ Doyle ]
  * Various integration test fixes (#628)
  * Make --service-node give more verbose failure flags (#630)

  [ Maxim Shishmarev ]
  * Require storage server running for uptime proofs (v.2) (#631)

  [ moneromooo-monero ]
  * p2p: fix GCC 9.1 crash
  * miniupnpc: update to build on BSD

  [ Howard Chu ]
  * Silence warnings on Windows

  [ ston1th ]
  * miner: fix double free of thread attributes

  [ moneromooo-monero ]
  * Fix GCC 9.1 build warnings
  * cmake: do not use -mmitigate-rop on GCC >= 9.1

  [ Howard Chu ]
  * Release dataset om stop_mining

  [ xiphon ]
  * epee: fix SSL autodetect on reconnection

  [ Doyle ]
  * Don't access array OOB when parsing percentage in stakes (#636)
  * Drop connection when requesting duplicated tx indexes (#637)

  [ Howard Chu ]
  * Don't use -march=native
  * Allow parallel make
  * Delete redundant cppzmq dependency
  * Use 9 digit build IDs

  [ Maxim Shishmarev ]
  * RPC endpoint for requesting random snodes (#638)

  [ Doyle ]
  * Service Node Checkpointing: More reliable transportation of votes, culling of old checkpoints (#632)

  [ moneromooo-monero ]
  * epee: basic sanity check on allocation size from untrusted source

  [ anonimal ]
  * cryptonote_protocol_handler: prevent potential DoS

  [ moneromooo-monero ]
  * cryptonote_protocol: expand basic DoS protection
  * cryptonote_protocol: fix another potential P2P DoS
  * serialization: fail on read_varint error
  * cryptonote: throw on tx hash calculation error
  * tree-hash: allocate variable memory on heap, not stack
  * serialization: check stream good flag at the end
  * abstract_tcp_server2: improve DoS resistance
  * ensure no NULL is passed to memcpy
  * rpc: restrict the recent cutoff size in restricted RPC mode

  [ Doyle ]
  * Check both tx keys stored in tx_extra in get_reserve_proof (#647)

  [ Jason Rhinelander ]
  * epee: fix SSL autodetect on reconnection (#651)
  * RED error message for storage server uptime fail (#653)
  * Format sn-public-ip option in error message
  * Make tx type and version scoped enums
  * Increase simplewallet sweep min tx version to v4
  * Restrict RPC commands related to the local SN (#658)
  * lmdb size/endian fix (#660)
  * Relax deregistration rules

  [ Doyle ]
  * Remove ncurses and disable readline for Dockerfile (#652)

  [ Jason Rhinelander ]
  * Add dummy payment IDs (#665)
  * Tweak decommission credit rules (#666)
  * Increase fee by 80x at Heimdall fork (#663)

  [ Doyle ]
  * Add output index after invalid check
  * Revert "Remove unused txs member in NOTIFY_RESPONSE_GET_OBJECT (#619)"

  [ stoffu ]
  * rpc: set sanity_check_failed to false when successful

  [ moneromooo-monero ]
  * tx_sanity_check: relax the median check a lot
  * wallet2: fix change subaddress mixup when sending pre rct outputs
  * p2p: don't forget pruning seed or public RPC port when updating peers

  [ Doyle ]
  * Disallow recursive reorgs from the 2nd oldest checkpoint (#667)
  * Decrease the miner tx version minimum to v2 (#669)
  * Service node checkpointing: rebased on relaxed deregistration (#662)

  [ Jason Rhinelander ]
  * Tighten allowed IPv4 ranges
  * Replace is_fully_funded() calls with is_active()
  * Fix recommissioning not reinserting SN at the back of the reward list
  * Add penalty for switching IPs
  * Fix missing < 0 on memcmp

  [ Maxim Shishmarev ]
  * respond with an explicit OK message on storage server ping (#674)

  [ Jason Rhinelander ]
  * Fix reported pow algorithm
  * Replace growable vector with fixed-size array
  * Update submodule for updated salt

  [ Maxim Shishmarev ]
  * Add hardfork version to get n service node response (#673)

  [ Jason Rhinelander ]
  * Update randomx with c++11 required change

  [ Doyle ]
  * Removes sn-public-ip and combines into --service-node (#676)
  * Add script for collecting output from docker build (#678)
  * Hefty Heimdall, version tag, add checkpoints, add dates (#668)

  [ Jason Rhinelander ]
  * Cap difficulty at 30MH/s for first 60 v12 blocks (#677)

  [ Doyle ]
  * Service node checkpointing deregistration (#672)
  * Move miner.h to fix cn basic referencing core and core referencing basic (#679)

  [ Maxim Shishmarev ]
  * Add Maxim's gpg key (#681)

  [ Beaudan Campbell-Brown ]
  * Add my keys (#684)

  [ Doyle ]
  * Set miners to 0 to avoid verification in integration mode (#685)
  * Improve diagnostics for failed tx send (#682)
  * Set minimum miner tx version to 4 (#683)
  * Rename monerod message to lokid (#688)

  [ Jason Rhinelander ]
  * Remove invalid FIXME (#689)
  * Fix segfault on exit with bad SN args (#690)
  * Fix setting relayed votes
  * Don't relay expired votes; add vote tolerance before disconnection
  * Silence unused variable warnings (#692)
  * Change monero -> LOKI in expected mining returns (#694)
  * Performance fix for alt chain blocks (#695)
  * Update RandomX with upstream (#697)
  * Extend height tolerance to state_change tx "verifivation"
  * Add a `state_height` to RPC (#696)

  [ Maxim Shishmarev ]
  * Add target height field to get_n_service_nodes (#698)

  [ Doyle ]
  * Fix warnings emitted on Mac CI machine (#687)
  * Don't std::max() the version otherwise breaks backcompat with older hardforks (#686)

  [ Jason Rhinelander ]
  * Don't do a full randomx build (#699)
  * Fix broken height rejection rule

  [ michael-loki ]
  * Apply additional boost fix (#701)

  [ Doyle ]
  * Remove the update command in the daemon since Loki doesn't implement (#703)
  * Bump Hefty Heimdall beta patch to 1 (#704)

  [ Jason Rhinelander ]
  * Fix rejection of ip changes state change txes (#706)

  [ Doyle ]
  * Fix broken unit tests from verify_tx_state_change function change (#705)

  [ Jason Rhinelander ]
  * Don't include stack trace dumping at default log-level (#710)

  [ Doyle ]
  * Resolve pubkeys from state change in dupe check in the tx_pool (#707)
  * Improved print_checkpoints + json_rpc get_checkpoints call (#708)
  * Remove reorg message for height since we checkpoint at the tip of the chain (#715)
  * Don't use architecture dependent sizes in RPC calls (#714)
  * Don't discard alt-chains if they have a checkpoint

  [ Jason Rhinelander ]
  * 3.0.7 release

  [ Doyle ]
  * Don't enforce block hash in checkpoint votes

  [ Ryan Tharp ]
  * upgrade MacOS from 10.11 test environment to 10.13

  [ Doyle ]
  * Improve print quorum state + rpc update (#709)

  [ Ryan Tharp ]
  * revert back to 10.11

  [ Doyle ]
  * Allow state changes if non conflicting states (#718)
  * Difficulty workaround (#722)

  [ Jason Rhinelander ]
  * Also use bind-ip for outgoing source (#724)

  [ Doyle ]
  * Rollback chain when receiving conflicting checkpoints (#726)
  * Update print_checkpoints to be integration_test friendly (#723)
  * Don't discard alt-chains if they have a checkpoint
  * Switch to a circular buffer for recording checkpointing votes
  * Don't run checkpoint vote check when decommissioned
  * Update softfork date for testnet quorum change
  * Reset uptime to 0 on decommission, so node must submit uptime to recommission
  * Use quorums N-MAX_REORG_BLOCKS_POST_HF12 for checkpointing (#721)
  * Service node checkpointing soft fork for mainnet (#719)
  * Bump Hefty Heimdall to patch 2

 -- Jason Rhinelander <jason@imaginary.ca>  Thu, 11 Jul 2019 11:54:44 -0300

loki (3.0.7-1) unstable; urgency=medium

  [ Jason Rhinelander ]
  * Remove `arch` to allow both amd64/i386 builds

  [ Doyle ]
  * Update stake result enum for shared lib compilation
  * Update libwallet api for the GUI wallet
  * Add overrides to calm warnings on GUI, make is_open in header
  * Use the precalculated public key when trying to gen key images (#640)

  [ moneromooo-monero ]
  * epee: basic sanity check on allocation size from untrusted source

  [ anonimal ]
  * cryptonote_protocol_handler: prevent potential DoS

  [ moneromooo-monero ]
  * cryptonote_protocol: expand basic DoS protection
  * serialization: fail on read_varint error
  * tree-hash: allocate variable memory on heap, not stack
  * serialization: check stream good flag at the end
  * ensure no NULL is passed to memcpy
  * rpc: restrict the recent cutoff size in restricted RPC mode

  [ Doyle ]
  * Drop connection when requesting duplicated tx indexes (#637)
  * Fix cherry-pick merge failure in core_rpc_server
  * Bump Summer Sigyn patch to 7

 -- Jason Rhinelander <jason@imaginary.ca>  Fri, 05 Jul 2019 12:19:57 -0300

loki (3.0.6-3) unstable; urgency=medium

  * Fix -dev package header install location.

 -- Jason Rhinelander <jason@imaginary.ca>  Wed, 22 May 2019 17:32:06 -0300

loki (3.0.6-2) unstable; urgency=medium

  * Add systemd service files for mainnet/testnet.  mainnet gets enabled by
    default.
  * Package fixes for lib packages.

 -- Jason Rhinelander <jason@imaginary.ca>  Tue, 21 May 2019 15:25:40 -0300

loki (3.0.6-1) unstable; urgency=medium

  [ Jason Rhinelander ]
  * Debian package fixes

  [ Doyle ]
  * Add key_image_unlock rollback event (#594)

  [ Jason Rhinelander ]
  * Add a checkpoint for 266283 and force rescan (#599)

  [ Doyle ]
  * Add flag to recalculate difficulty per block (#598)

  [ Jason Rhinelander ]
  * Partially revert rescan force (#602)

  [ Doyle ]
  * Bump patch version to 6 (#600)

  [ Jason Rhinelander ]
  * Add more status messages when rescanning SNs (#603)

 -- Jason Rhinelander <jason@imaginary.ca>  Sun, 12 May 2019 12:41:59 -0300

loki (3.0.5-1) unstable; urgency=medium

  * Initial Release.

 -- Jason Rhinelander <jason@imaginary.ca>  Fri, 03 May 2019 15:52:06 -0300
